<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>MODBUS-CPP | modbus-cpp</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,400i,600,600i%7CSource+Code+Pro:400,400i,600" />
  <link rel="stylesheet" href="m-dark+doxygen.compiled.css" />
  <link rel="icon" href="favicon-dark.png" type="image/png" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="theme-color" content="#22272e" />
</head>
<body>
<header><nav id="navigation">
  <div class="m-container">
    <div class="m-row">
      <a href="index.html" id="m-navbar-brand" class="m-col-t-8 m-col-m-none m-left-m">modbus-cpp</a>
      <div class="m-col-t-4 m-hide-m m-text-right m-nopadr">
        <a href="#search" class="m-dox-search-icon" title="Search" onclick="return showSearch()"><svg viewBox="0 0 16 16">
          <path d="m6 0c-3.3144 0-6 2.6856-6 6 0 3.3144 2.6856 6 6 6 1.4858 0 2.8463-0.54083 3.8945-1.4355-0.0164 0.33797 0.14734 0.75854 0.5 1.1504l3.2227 3.7891c0.55185 0.6139 1.4517 0.66544 2.002 0.11524 0.55022-0.55022 0.49866-1.4501-0.11524-2.002l-3.7891-3.2246c-0.39184-0.35266-0.81242-0.51469-1.1504-0.5 0.89472-1.0482 1.4355-2.4088 1.4355-3.8945 0-3.3128-2.6856-5.998-6-5.998zm0 1.5625a4.4375 4.4375 0 0 1 4.4375 4.4375 4.4375 4.4375 0 0 1-4.4375 4.4375 4.4375 4.4375 0 0 1-4.4375-4.4375 4.4375 4.4375 0 0 1 4.4375-4.4375z"/>
        </svg></a>
        <a id="m-navbar-show" href="#navigation" title="Show navigation"></a>
        <a id="m-navbar-hide" href="#" title="Hide navigation"></a>
      </div>
      <div id="m-navbar-collapse" class="m-col-t-12 m-show-m m-col-m-none m-right-m">
        <div class="m-row">
          <ol class="m-col-t-12 m-col-m-none">
            <li><a href="namespaces.html">Namespaces</a></li>
            <li><a href="annotated.html">Classes</a></li>
            <li>
              <a href="files.html">Files</a>
              <ol>
                <li><a href="dir_ca58a6e1d1ad7199b06ec1997943b0e2.html">modbus/channel</a></li>
                <li><a href="dir_f0b4abc89894b7a59cdcc1b56ad2fa78.html">modbus/exceptions</a></li>
                <li><a href="dir_5039506f8dbbf25081fc49328f198ec6.html">modbus/logging</a></li>
                <li><a href="dir_4dd40bef6cea24abf09d91015e01f4b5.html">modbus/messages</a></li>
                <li><a href="dir_5e0ccf84f1afa1ec87f338ca918e19f4.html">modbus/session</a></li>
              </ol>
            </li>
          </ol>
          <ol class="m-col-t-6 m-col-m-none" start="4">
            <li class="m-show-m"><a href="#search" class="m-dox-search-icon" title="Search" onclick="return showSearch()"><svg viewBox="0 0 16 16">
              <path d="m6 0c-3.3144 0-6 2.6856-6 6 0 3.3144 2.6856 6 6 6 1.4858 0 2.8463-0.54083 3.8945-1.4355-0.0164 0.33797 0.14734 0.75854 0.5 1.1504l3.2227 3.7891c0.55185 0.6139 1.4517 0.66544 2.002 0.11524 0.55022-0.55022 0.49866-1.4501-0.11524-2.002l-3.7891-3.2246c-0.39184-0.35266-0.81242-0.51469-1.1504-0.5 0.89472-1.0482 1.4355-2.4088 1.4355-3.8945 0-3.3128-2.6856-5.998-6-5.998zm0 1.5625a4.4375 4.4375 0 0 1 4.4375 4.4375 4.4375 4.4375 0 0 1-4.4375 4.4375 4.4375 4.4375 0 0 1-4.4375-4.4375 4.4375 4.4375 0 0 1 4.4375-4.4375z"/>
            </svg></a></li>
          </ol>
        </div>
      </div>
    </div>
  </div>
</nav></header>
<main><article>
  <div class="m-container m-container-inflatable">
    <div class="m-row">
      <div class="m-col-l-10 m-push-l-1">
        <h1>
          MODBUS-CPP
        </h1>
<p>MODBUS-CPP library is a modern C++ library for communicating with Modbus devices by TCP/IP. It is designed to be simple to use, typesafe and to have great performance.</p><section id="mainpage-feature"><h2><a href="#mainpage-feature">Features</a></h2><ul><li>Support of common function codes:<ul><li><code class="m-code"><span class="mh">0x03</span></code> Read Holding Registers</li><li><code class="m-code"><span class="mh">0x04</span></code> Read Input Registers</li><li><code class="m-code"><span class="mh">0x06</span></code> Write Single Register</li><li><code class="m-code"><span class="mh">0x10</span></code> Write Multiple Registers</li></ul></li><li>Support for all exception codes</li><li>Automatic scheduling of register polls</li><li>Asynchronous request handling by worker threads using <a href="https://github.com/chriskohlhoff/asio">asio</a></li><li>Logging using <a href="https://github.com/gabime/spdlog">spdlog</a></li></ul></section><section id="mainpage-build"><h2><a href="#mainpage-build">Building</a></h2><p>The following dependencies are needed to build the library:</p><ul><li>A modern C++ compiler fully supporting C++14 standard. This library is continously tested with GCC 6.4.0 and LLVM/Clang 5.0.0. It is also regularly built using Microsoft Visual Studio 2017.</li><li><a href="https://cmake.org/">CMake 3.8+</a></li><li>A git client supporting submodules (1.5.3+)</li></ul><p>To build the library, follow these steps:</p><ul><li>Clone the repository recursively with <code>git clone <a href="https://github.com/aegis4ics/modbus-cpp.git">https:/<wbr />/<wbr />github.com/<wbr />aegis4ics/<wbr />modbus-cpp.git</a> --recursive</code></li><li>Create a <code>build</code> directory inside the project.</li><li>Inside the build directory, configure the project using <code>cmake ..</code> or the interactive <code>ccmake ..</code> The default options should work out of the box.</li><li>Build the project with <code>cmake --build .</code></li></ul><section id="mainpage-building-cmake"><h3><a href="#mainpage-building-cmake">CMake usage</a></h3><p>The following CMake cache variables can be tuned to control the building of the library:</p><ul><li><code>MODBUS_BUILD_TESTS</code>: Set to <code>ON</code> to build the unit tests and the performance tests should be built. These tests will appear as <code>modbus_tests</code> and <code>modbus_perf_tests</code> targets respectively.</li><li><code>MODBUS_BUILD_EXAMPLE</code>: Set to <code>ON</code> to build the example application. The example will appear as <code>modbus_example</code> target.</li></ul><p>By default, these variables will be set to <code>ON</code> when building only this library, and to <code>OFF</code> if the project is added with <code>add_subdirectory</code>.</p><p>To use this library in a project, it is recommend to simply add this repository as a submodule, then add this project in CMake with <code>add_subdirectory</code>. Then, the target <code>modbus-cpp</code> will be available to link with. For example, <code>foo</code> project can use MODBUS-CPP by doing this in its <code>CMakeLists.txt</code>.</p><pre class="m-code"><span class="nb">add_subdirectory</span><span class="p">(</span><span class="s">./modbus-cpp</span><span class="p">)</span>
<span class="nb">add_executable</span><span class="p">(</span><span class="s">foo</span> <span class="s">PRIVATE</span> <span class="s">modbus-cpp</span><span class="p">)</span></pre></section></section><section id="mainpage-usage"><h2><a href="#mainpage-usage">Usage</a></h2><p>To learn how to use the library, it is recommended to have a look at the example project, available <a href="https://github.com/aegis4ics/modbus-cpp/blob/master/example/main.cpp">here</a>. It makes use of all the functionalities of the library.</p><p>After reading the example and playing with it, a quick scan trough the documentation can help gain understanding of the library. It is recommended to start with the <a href="classmodbus_1_1IModbusManager.html" class="m-dox">modbus::<wbr />IModbusManager</a> class documentation, since it represents the main entrypoint of the library. The reader can proceed with <a href="classmodbus_1_1IChannel.html" class="m-dox">modbus::<wbr />IChannel</a> and <a href="classmodbus_1_1ISession.html" class="m-dox">modbus::<wbr />ISession</a> to learn how to create a session with a Modbus device and send requests to it.</p><section id="mainpage-usage-threading-model"><h3><a href="#mainpage-usage-threading-model">Note about the threading model</a></h3><p>This library uses a pool of background threads created by <a href="classmodbus_1_1IModbusManager.html" class="m-dox">modbus::<wbr />IModbusManager</a> to execute the asynchronous operations. All the public API&#x27;s methods are thread-safe. However, client code must be cautious in the response handlers.</p><aside class="m-note m-danger"><h4>Warning</h4><p>All the response handlers are called from background threads created by the <a href="classmodbus_1_1IModbusManager.html" class="m-dox">modbus::<wbr />IModbusManager</a>. Therefore, all response handlers <em>should not block</em> in any way. Otherwise, you risk having other channels not performing their tasks because the thread is blocked or even deadlocks. Also, be sure to use the appropriate mechanisms to eliminate the risks of race conditions in the user code. See <a href="classmodbus_1_1IModbusManager.html" class="m-dox">modbus::<wbr />IModbusManager</a> and <a href="namespacemodbus.html#ae26a7c8960d3836689c36527823b249c" class="m-dox">modbus::<wbr />ResponseHandler</a> for more details.</p></aside></section><section id="mainpage-usage-resource-releasing"><h3><a href="#mainpage-usage-resource-releasing">Resource releasing</a></h3><p>Because of the asynchronous model used in this library, resource releasing may seem odd to certain users. <a href="classmodbus_1_1IModbusManager.html" class="m-dox">modbus::<wbr />IModbusManager</a>, <a href="classmodbus_1_1IChannel.html" class="m-dox">modbus::<wbr />IChannel</a> and <a href="classmodbus_1_1ISession.html" class="m-dox">modbus::<wbr />ISession</a> usually returns <code class="m-code"><span class="n">std</span><span class="o">::</span><span class="n">shared_ptr</span></code>. These shared pointers are always owned by the parent that created it. For example, <a href="classmodbus_1_1IModbusManager.html" class="m-dox">modbus::<wbr />IModbusManager</a> owns all the <a href="classmodbus_1_1IChannel.html" class="m-dox">modbus::<wbr />IChannel</a> pointers it has created. Therefore, even if the client code releases all the pointer, the channel will stay alive until <a href="classmodbus_1_1IModbusManager.html#ae57c5cb74f6f170be0d5c014af3d96fa" class="m-dox">modbus::<wbr />IModbusManager::<wbr />shutdown()</a> is called (or its destructor).</p><p>It is guaranteed that when <a href="classmodbus_1_1IModbusManager.html" class="m-dox">modbus::<wbr />IModbusManager</a> shuts down, all the associated resources will be <em>gracefully</em> shutdown and disposed, and all the background threads will be joined appropriately. Once again, it is important that all the response handlers must <em>not</em> block. Otherwise, the shutdown sequence may generate a deadlock.</p></section></section>
      </div>
    </div>
  </div>
</article></main>
<div class="m-dox-search" id="search">
  <a href="#!" onclick="return hideSearch()"></a>
  <div class="m-container">
    <div class="m-row">
      <div class="m-col-m-8 m-push-m-2">
        <div class="m-dox-search-header m-text m-small">
          <div><span class="m-label m-default">Tab</span> / <span class="m-label m-default">T</span> to search, <span class="m-label m-default">Esc</span> to close</div>
          <div id="search-symbolcount">&hellip;</div>
        </div>
        <div class="m-dox-search-content">
          <input type="search" id="search-input" placeholder="Loading &hellip;" disabled="disabled" autofocus="autofocus" />
          <noscript class="m-text m-danger m-text-center">Unlike everything else in the docs, the search functionality <em>requires</em> JavaScript.</noscript>
          <div id="search-help" class="m-text m-dim m-text-center">
            Search for symbols, directories, files, pages or modules. You can omit any
            prefix from the symbol or file path; adding a <code>:</code> or <code>/</code>
            suffix lists all members of given symbol or directory. Navigate through the
            list using <span class="m-label m-dim">&darr;</span> and
            <span class="m-label m-dim">&uarr;</span>, press
            <span class="m-label m-dim">Enter</span> to go.
          </div>
          <div id="search-notfound" class="m-text m-warning m-text-center">Sorry, nothing was found.</div>
          <ul id="search-results"></ul>
        </div>
      </div>
    </div>
  </div>
</div>
<script src="search.js"></script>
<script src="searchdata.js" async="async"></script>
<footer><nav>
  <div class="m-container">
    <div class="m-row">
      <div class="m-col-l-10 m-push-l-1">
        <p>modbus-cpp. Created by <a href="http://doxygen.org/">Doxygen</a> 1.8.14 and <a href="http://mcss.mosra.cz/">m.css</a>.</p>
      </div>
    </div>
  </div>
</nav></footer>
</body>
</html>